<img src="assets/images/patron-fondo.png" class="fondo-img" />
<div class="stickers-disponibles">
  <p>
    üü£ Tienes <strong>{{ stickersDisponibles }}</strong>
    sticker{{ stickersDisponibles === 1 ? '' : 's' }}
    disponible{{ stickersDisponibles === 1 ? '' : 's' }}
  </p>
</div>

<!-- üåê TARJETA ESCRITORIO (horizontal) -->
<div *ngIf="!esMovil" class="tarjeta-outer">
  <div class="tarjeta" [class.girada]="tarjetaGirada">
    <div class="cara frente tarjeta-fisica">
      <!-- lado izquierdo -->
      <div class="lado-izquierdo">
        <div class="titulo-lado-izq">
          <span class="titulo-mayus">TARJETA</span>
          <span class="titulo-curva">cliente</span>
          <span class="titulo-mayus">FRECUENTE</span>
          <img src="assets/images/conejita.png" class="img-conejita" />
        </div>

        <div class="campo-nombre">
          <span>{{ nombreUsuario }}</span>
        </div>

        <p class="mensaje-agradecimiento">
          GRACIAS POR APOYAR Y CONFIAR EN NUESTRO EMPRENDIMIENTO‚ú®<br />
          TE MERECES OBTENER UN DESCUENTO
        </p>

        <img src="assets/images/qr.png" class="qr-img" />
        <p class="instagram">rincon_sylvanian</p>
      </div>

      <!-- lado derecho -->
      <div class="lado-derecho">
        <div class="fondo-ondas">
          <div class="espacios">
            <div *ngFor="let espacio of espacios; let i = index"
              [id]="'espacio-' + espacio.id"
              [ngClass]="{ ocupado: espacio.ocupado, premio: espacio.premio }"
              class="circulo"
              (click)="!espacio.ocupado && pegarSticker()">

              <ng-container *ngIf="espacio.ocupado; else noSticker">
                <img [src]="espacio.imagen" />
              </ng-container>
              <ng-template #noSticker>
                <span *ngIf="espacio.premio">{{ espacio.texto }}</span>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="cara reverso tarjeta-reverso">
      <div class="texto-superior">
        <h2>RINCON SYLVANIAN</h2>
        <p>EXCLUSIVOS DESDE JAP√ìN</p>
      </div>
      <div class="logo-centro">
        <img src="assets/images/logo.png" alt="Sticker Central" />
      </div>
      <div class="ondas-inferior"></div>
    </div>
  </div>
</div>

<!-- üì± TARJETA M√ìVIL (apilada) -->
<div *ngIf="esMovil" class="tarjeta-outer">
  <div class="tarjeta tarjeta-movil">
    <!-- lado izquierdo (arriba) -->
    <div class="lado-izquierdo">
      <div class="titulo-lado-izq">
        <span class="titulo-mayus">TARJETA</span>
        <span class="titulo-curva">cliente</span>
        <span class="titulo-mayus">FRECUENTE</span>
        <img src="assets/images/conejita.png" class="img-conejita" />
      </div>

      <div class="campo-nombre">
        <span>{{ nombreUsuario }}</span>
      </div>

      <p class="mensaje-agradecimiento">
        GRACIAS POR APOYAR Y CONFIAR EN NUESTRO EMPRENDIMIENTO‚ú®<br />
        TE MERECES OBTENER UN DESCUENTO
      </p>

      <img src="assets/images/qr.png" class="qr-img" />
      <p class="instagram">rincon_sylvanian</p>
    </div>

    <!-- lado derecho (abajo) -->
    <div class="lado-derecho">
      <div class="fondo-ondas">
        <div class="espacios">
          <div *ngFor="let espacio of espacios; let i = index"
            [id]="'espacio-' + espacio.id"
            [ngClass]="{ ocupado: espacio.ocupado, premio: espacio.premio }"
            class="circulo"
            (click)="!espacio.ocupado && pegarSticker()">

            <ng-container *ngIf="espacio.ocupado; else noStickerMobile">
              <img [src]="espacio.imagen" />
            </ng-container>
            <ng-template #noStickerMobile>
              <span *ngIf="espacio.premio">{{ espacio.texto }}</span>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ANIMACI√ìN PREMIO -->
<div class="animacion-premio" *ngIf="mostrarAnimacionPremio">
  <div class="cuadro-premio">
    <div class="estrellitas">‚ú® ‚ú® ‚ú®</div>
    <h2>üéÅ ¬°Premio desbloqueado!</h2>
    <p>¬°Has ganado un descuento del {{ premioActual }}%!</p>
    <button (click)="cerrarAnimacionPremio()">Aceptar</button>
  </div>
</div>

<!-- LOADER: Pegando Sticker -->
<div *ngIf="pegandoSticker" class="overlay-cargando">
  <div class="caja-cargando">
    <div class="spinner"></div>
    <p>Pegando sticker...</p>
  </div>
</div>
