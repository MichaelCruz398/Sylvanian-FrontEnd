<!-- Pantalla de carga -->
<app-cargando *ngIf="cargando"></app-cargando>

<div class="login-container" style="max-width: 400px; margin: 60px auto; background-color: #fffaf3; padding: 2rem; border-radius: 15px; box-shadow: 0 0 15px rgba(0,0,0,0.1);">
  <div class="text-center mb-4">
    <img src="assets/images/logo.png" alt="Logo" class="logo" width="90" />
  </div>

  <h2 class="mb-3 text-center" style="color: #b3887b;">Iniciar sesión</h2>

  <form (ngSubmit)="iniciarSesion()">
    <div class="form-group mb-3">
      <input
        [(ngModel)]="email"
        name="email"
        type="text"
        placeholder="Correo electrónico o nombre Instagram"
        class="form-control"
        (input)="onInputChange()"
        required
      />
    </div>

    <div class="form-group mb-2">
      <input
        [(ngModel)]="password"
        name="password"
        type="password"
        placeholder="Contraseña"
        class="form-control"
        (input)="onInputChange()"
        required
      />
    </div>

    <div class="text-end mb-3">
      <span
        (click)="router.navigate(['/recuperar'])"
        style="font-size: 0.9rem; color: #a679b4; cursor: pointer; text-decoration: underline;"
      >
        ¿Olvidaste tu contraseña?
      </span>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger mt-2 text-center">
      {{ errorMessage }}
    </div>

    <button
      type="submit"
      class="btn w-100 mt-3"
      [disabled]="cargando"
      style="background-color: #e69bbf; border: none; color: white; font-weight: bold; padding: 12px; border-radius: 10px;"
    >
      🐰 Ingresar
    </button>
  </form>

  <p class="mt-4 text-muted text-center">
    ¿No tienes cuenta?
    <span
      (click)="router.navigate(['/registro'])"
      style="color: #a679b4; cursor: pointer; text-decoration: underline;"
    >
      Regístrate aquí
    </span>
  </p>
</div>
